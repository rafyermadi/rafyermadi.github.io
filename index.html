<!doctype html>
<html lang="id" data-theme="dark">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Rafy Rayyan ‚Äî Blog & Arsip Progres Novel</title>
<style>
:root{
  --bg:#0c0e12; --panel:#11141a; --panel-2:#0f1217; --card:#161a22;
  --text:#e8edf5; --muted:#aab3c2; --accent:#64b5ff; --accent2:#8b5cf6;
  --ring:rgba(255,255,255,.08); --shadow:rgba(0,0,0,.35);
}
:root[data-theme="light"]{
  --bg:#f6f8fb; --panel:#ffffff; --panel-2:#f2f5f9; --card:#ffffff;
  --text:#10131a; --muted:#596273; --accent:#0b78ff; --accent2:#6b4bff;
  --ring:rgba(0,0,0,.08); --shadow:rgba(0,0,0,.07);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font:16px/1.6 "Inter",system-ui,Segoe UI,Roboto,Arial;
  color:var(--text); background:radial-gradient(1200px 600px at 15% -10%,#123 0%,transparent 60%) , var(--bg);
}
a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}
.container{max-width:1150px;margin:0 auto;padding:0 18px}
.header{
  position:sticky; top:0; z-index:30; backdrop-filter:saturate(140%) blur(8px);
  background:color-mix(in hsl, var(--bg) 85%, transparent);
  border-bottom:1px solid var(--ring);
}
.nav{display:flex;align-items:center;gap:18px;height:64px}
.brand{display:flex;align-items:center;gap:10px;font-weight:700}
.brand .logo{width:28px;height:28px;border-radius:9px;
  background:linear-gradient(135deg,#4dd4ff,#7a5cff); display:grid;place-items:center;color:#fff;font-weight:800}
.navlinks{display:flex;gap:18px;margin-left:auto}
.navlinks a{padding:8px 12px;border-radius:10px}
.navlinks a.active{background:var(--ring)}
.theme{margin-left:8px}
.theme button{width:36px;height:36px;border-radius:10px;border:1px solid var(--ring);background:var(--panel);
  display:grid;place-items:center;cursor:pointer}

.hero{padding:36px 0 18px;background:linear-gradient(110deg, rgba(123,92,255,.08), transparent 60%)}
.hero .wrap{display:grid;grid-template-columns:120px 1fr;gap:22px;align-items:center}
.avatar{width:120px;height:120px;border-radius:50%;overflow:hidden;box-shadow:0 10px 30px var(--shadow)}
.hi{font-size:44px;line-height:1.2;margin:0 0 8px;font-weight:800;letter-spacing:.2px}
.hi .grad{background:linear-gradient(90deg,var(--accent),var(--accent2));-webkit-background-clip:text;color:transparent}
.hero p{margin:0 0 10px;color:var(--muted)}
.btn{background:linear-gradient(90deg,#5cc3ff,#7b5bff);color:white;padding:10px 14px;border:0;border-radius:12px;
  box-shadow:0 6px 20px rgba(0,0,0,.25);cursor:pointer}
.btn.outline{background:transparent;color:var(--text);border:1px solid var(--ring);box-shadow:none}
.searchbar{margin:14px 0 8px}
.search{display:flex;align-items:center;gap:10px;background:var(--panel);border:1px solid var(--ring);border-radius:14px;padding:10px 12px}
.search input{all:unset;flex:1;color:var(--text)}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
.card{background:var(--card);border:1px solid var(--ring);border-radius:18px;overflow:hidden;box-shadow:0 10px 28px var(--shadow)}
.card .thumb{height:190px;background:#0e1117;display:grid;place-items:center;overflow:hidden}
.card .thumb img{width:100%;height:100%;object-fit:cover}
.card .body{padding:16px}
.meta{font-size:13px;color:var(--muted)}
.h3{font-size:20px;line-height:1.3;margin:6px 0 8px;font-weight:800;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.excerpt{color:var(--muted);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.tags{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0 4px}
.tag{font-size:12px;padding:6px 10px;border-radius:999px;background:var(--panel);border:1px solid var(--ring);color:var(--muted)}

.article{padding:24px 0}
.article h1{font-size:46px;line-height:1.15;margin:0 0 4px}
.article .ameta{color:var(--muted);margin-bottom:12px}
.post-hero{border-radius:18px;border:1px solid var(--ring);background:var(--panel);
  padding:8px;margin:12px 0}
.post-hero img{width:100%;height:420px;object-fit:contain;border-radius:12px}
.article .content{background:var(--card);border:1px solid var(--ring);border-radius:18px;padding:22px}

.pager{display:flex;gap:10px;align-items:center;justify-content:center;margin:18px 0 0}
.pager .info{color:var(--muted);font-size:14px}
.pager .btn[disabled]{opacity:.5;cursor:not-allowed}

.footer{margin-top:24px;background:linear-gradient(90deg,rgba(123,92,255,.08),transparent 70%)}
.footer .wrap{display:grid;grid-template-columns:1fr 1fr 1fr;gap:18px;padding:26px 0}
.bio .logo{width:28px;height:28px;border-radius:9px;background:linear-gradient(135deg,#4dd4ff,#7a5cff);display:grid;place-items:center;color:#fff;font-weight:800;margin-right:8px}
.kecil{font-size:13px;color:var(--muted)}
.stat{display:flex;gap:14px}
.kartu{background:var(--panel);border:1px solid var(--ring);border-radius:14px;padding:16px;text-align:center;min-width:120px}
.kartu .n{font-size:26px;font-weight:800}
.quote{background:var(--panel);border:1px solid var(--ring);border-radius:14px;padding:16px}
.copy{padding:10px 0;border-top:1px solid var(--ring);display:flex;align-items:center;justify-content:space-between}
.copy a{color:var(--accent);text-decoration:underline}
#toTop{border-radius:12px;border:1px solid var(--ring);background:var(--panel);color:var(--text);padding:10px 14px}

.modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.45);z-index:50}
.modal.open{display:grid}
.mod{background:var(--panel);border:1px solid var(--ring);border-radius:16px;padding:18px;min-width:320px;max-width:92vw}
.mod h3{margin:0 0 8px}
.mod form{display:flex;gap:10px}
.mod input{flex:1;padding:10px;border-radius:10px;border:1px solid var(--ring);background:var(--card);color:var(--text)}

@media (max-width:1024px){
  .grid{grid-template-columns:repeat(2,1fr)}
}
@media (max-width:640px){
  .nav{height:56px}
  .navlinks{gap:8px}
  .hero .wrap{grid-template-columns:1fr;justify-items:center;text-align:center}
  .avatar{margin-bottom:6px}
  .hi{font-size:34px}
  .grid{grid-template-columns:1fr}
  .footer .wrap{grid-template-columns:1fr}
}
</style>
</head>
<body>
<header class="header">
  <div class="container nav">
    <div class="brand"><div class="logo">R</div> Rafy Rayyan</div>
    <nav class="navlinks" id="navlinks">
      <a href="#/" data-nav="home" class="active">Beranda</a>
      <a href="#/blog" data-nav="blog">Blog</a>
      <a href="#/novel" data-nav="novel">Novel</a>
      <a href="#/about" data-nav="about">About</a>
    </nav>
    <div class="theme"><button id="themeBtn" title="Ganti tema">üåì</button></div>
  </div>
</header>

<main id="app"></main>

<footer class="footer">
  <div class="container">
    <div class="wrap">
      <div class="bio">
        <div style="display:flex;align-items:center;margin-bottom:6px;">
          <div class="logo">R</div><strong>Rafy Rayyan</strong>
        </div>
        <div class="kecil">Blog ini mendokumentasikan perjalanan menulis novel dan belajar hal-hal kreatif lainnya. Terima kasih sudah mampir dan membaca. üôå</div>
        <div style="margin-top:10px"><a class="btn outline" href="https://www.instagram.com/rafy.rayyan/" target="_blank" rel="noopener">IG</a></div>
      </div>
      <div>
        <div class="stat">
          <div class="kartu"><div class="n" id="stat-post">0</div><div class="kecil">Total Post</div></div>
          <div class="kartu"><div class="n" id="stat-tag">0</div><div class="kecil">Jumlah Tag</div></div>
        </div>
      </div>
      <div class="quote">‚ÄúMenulis itu merawat ingatan. Setiap paragraf adalah jejak yang tidak ingin hilang.‚Äù</div>
    </div>
    <div class="copy">
      <div>¬© 2025 ‚Äî Dibuat oleh Rafy Rayyan. Semua konten dilindungi hak cipta.</div>
      <button class="btn outline" id="toTop" type="button">Kembali ke atas</button>
    </div>
  </div>
</footer>

<!-- Modal Subscribe -->
<div class="modal" id="subModal" aria-hidden="true">
  <div class="mod">
    <h3>Berlangganan via Email</h3>
    <p class="kecil" style="margin-top:-6px">Masukkan email untuk mendapat kabar jika ada tulisan baru.</p>
    <form onsubmit="event.preventDefault(); alert('Terima kasih! (dummy)'); modal(false);">
      <input type="email" placeholder="nama@contoh.com" required>
      <button class="btn" type="submit">Simpan</button>
      <button class="btn outline" type="button" onclick="modal(false)">Batal</button>
    </form>
  </div>
</div>

<script>
// ====== DATA POST (DEMO) =====================================================
const posts = [
  { id:'novel-bab-1', title:'Novel ‚Äî Bab 1: Pagi yang Menggantung', date:'2025-08-20',
    tags:['Novel','Progres','Bab 1'],
    image:'https://images.unsplash.com/photo-1507842217343-583bb7270b66?q=80&w=1200&auto=format&fit=crop',
    excerpt:'Awal cerita‚Äîsebuah pagi di Jakarta, ketika segalanya terasa biasa saja, sampai tidak lagi‚Ä¶',
    body:`<p>Pagi di Jakarta selalu terdengar sama: klakson, pedagang roti, dan radio tetangga yang tak pernah tepat frekuensi. Aku berjalan menembus lorong kos yang sempit sambil menghitung napas.</p>
    <p>Di halaman, ada sandal yang ditinggalkan tergesa. "Pertanda baik atau buruk?" batinku. Telepon bergetar‚Äîpesan dari Ibu, hanya satu kata: <em>Pulang.</em></p>
    <h2>Set up konflik</h2><p>Bab ini memperkenalkan dua hal: hilangnya figur jangkar dan kota yang ikut menelan suara.</p>`},
  { id:'catatan-riset', title:'Catatan Riset: Menentukan Setting & Perspektif', date:'2025-08-18',
    tags:['Novel','Catatan','Riset'],
    image:'https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1200&auto=format&fit=crop',
    excerpt:'Kenapa memilih sudut pandang orang pertama? Plus daftar referensi yang kupakai.',
    body:`<p>Aku membandingkan POV orang pertama vs orang ketiga terbatas. Pilihan jatuh ke orang pertama untuk menangkap kegelisahan tokoh secara dekat.</p>
    <blockquote>Satu kota bisa menjadi tokoh, jika kita memberinya napas.</blockquote>
    <p>Referensi: <em>Norwegian Wood</em>, <em>Lelaki Harimau</em>, dan esai dialog.</p>`},
  { id:'teknik-dialog', title:'Teknik Dialog: Biar Ngobrolnya Hidup', date:'2025-08-16',
    tags:['Tips Menulis','Workshop','Blog'],
    image:'https://images.unsplash.com/photo-1515516969-d4008cc6241a?q=80&w=1200&auto=format&fit=crop',
    excerpt:'Beberapa trik sederhana untuk bikin dialog terasa alami tanpa ‚Äúceramah‚Äù.',
    body:`<p>Trik cepat: kurangi penjelasan setelah dialog, biarkan respon lawan bicara memikul makna.</p>
      <ul><li>Gunakan jeda seperlunya.</li><li>Gesture kecil menandai emosi.</li><li>Seimbangkan ‚Äúkataku, katanya‚Äù dengan aksi.</li></ul>`},
  { id:'novel-outline', title:'Outline Kasar: Alur Besar Novel', date:'2025-08-14',
    tags:['Novel','Outline','Progres'],
    image:'https://images.unsplash.com/photo-1491841550275-ad7854e35ca6?q=80&w=1200&auto=format&fit=crop',
    excerpt:'Kerangka 3 babak + benang merah konflik utama dan subplot keluarga.',
    body:`<p>Struktur 3 babak: pengenalan ‚Äî eskalasi ‚Äî resolusi. Subplot keluarga menempel pada pilihan kuliah tokoh.</p>`},
  { id:'random-thoughts', title:'Random Thoughts: Nulis di Tengah Deadline', date:'2025-08-12',
    tags:['Blog','Opini','Produktivitas'],
    image:'https://images.unsplash.com/photo-1516542076529-1ea3854896e1?q=80&w=1200&auto=format&fit=crop',
    excerpt:'Cara bagiku menjaga ritme nulis tanpa ngorbanin sekolah.',
    body:`<p>Strategi: nulis 25 menit, rehat 5 menit‚Äîulang 3 kali. Satu sesi ‚âà 1 halaman.</p>`},
  { id:'novel-bab-2', title:'Novel ‚Äî Bab 2: Peta yang Hilang', date:'2025-08-10',
    tags:['Novel','Progres','Bab 2'],
    image:'https://images.unsplash.com/photo-1455390582262-044cdead277a?q=80&w=1200&auto=format&fit=crop',
    excerpt:'Tokoh menemukan peta usang yang menuntun ke masa lalu ayahnya.',
    body:`<p>Peta jadi pemicu babak dua.</p>`},
  { id:'tips-outline', title:'Tips Outline yang Nggak Bikin Pusing', date:'2025-08-08',
    tags:['Blog','Tips Menulis'],
    image:'https://images.unsplash.com/photo-1524578271613-d550eacf6090?q=80&w=1200&auto=format&fit=crop',
    excerpt:'Cara cepat bikin outline versi ‚Äúkabel rapi‚Äù.',
    body:`<p>Pakai pola 3 babak, tulis konflik per babak dalam 1 kalimat.</p>`},
  { id:'novel-riset-lokasi', title:'Riset Lokasi: Catatan Lapangan', date:'2025-08-06',
    tags:['Novel','Riset'],
    image:'https://images.unsplash.com/photo-1456425712190-0dd8c2b00156?q=80&w=1200&auto=format&fit=crop',
    excerpt:'Rute bus, suara pasar pagi, dan aroma hujan‚Äîsemua dicatat.',
    body:`<p>Merekam detail sensorik untuk adegan.</p>`},
  { id:'esai-favorit', title:'Esai Favorit tentang Penokohan', date:'2025-08-04',
    tags:['Blog','Opini'],
    image:'https://images.unsplash.com/photo-1455390582262-044cdead277a?q=80&w=1200&auto=format&fit=crop',
    excerpt:'Kumpulan esai yang bikin mikir ulang cara membangun karakter.',
    body:`<p>Daftar esai dan ringkasannya.</p>`},
  { id:'novel-bab-3', title:'Novel ‚Äî Bab 3: Telepon Tengah Malam', date:'2025-08-02',
    tags:['Novel','Progres','Bab 3'],
    image:'https://images.unsplash.com/photo-1497250681960-ef046c08a56e?q=80&w=1200&auto=format&fit=crop',
    excerpt:'Sebuah telepon mengubah keputusan tokoh.',
    body:`<p>Twist pertama muncul.</p>`},
  { id:'catatan-gaya', title:'Catatan Gaya: Metafora yang Hemat', date:'2025-07-30',
    tags:['Blog','Catatan'],
    image:'https://images.unsplash.com/photo-1526318472351-c75fcf070305?q=80&w=1200&auto=format&fit=crop',
    excerpt:'Menjaga metafora tetap jernih dan tepat sasaran.',
    body:`<p>Contoh sebelum‚Äìsesudah.</p>`},
  { id:'review-buku', title:'Review Buku: Cara Menulis Dialog', date:'2025-07-28',
    tags:['Blog','Review'],
    image:'https://images.unsplash.com/photo-1544930834-45e1b225b0cc?q=80&w=1200&auto=format&fit=crop',
    excerpt:'Catatan dari buku craft writing favorit.',
    body:`<p>Tiga poin yang bisa langsung dipraktikkan.</p>`},
  { id:'novel-bab-4', title:'Novel ‚Äî Bab 4: Hujan di Peron', date:'2025-07-26',
    tags:['Novel','Progres','Bab 4'],
    image:'https://images.unsplash.com/photo-1444723121867-7a241cacace9?q=80&w=1200&auto=format&fit=crop',
    excerpt:'Adegan peron jadi titik balik relasi.',
    body:`<p>Adegan dialog singkat namun tajam.</p>`},
];

// ====== STATE & HELPERS ======================================================
const $ = sel => document.querySelector(sel);
const app = $('#app');
const states = { home:{q:'',page:1}, blog:{q:'',page:1}, novel:{q:'',page:1} };

function fmtDate(iso){
  const d=new Date(iso);return d.toLocaleDateString('id-ID',{day:'2-digit',month:'long',year:'numeric'});
}
function cardHTML(p){
  return `
  <article class="card">
    <a href="#/post/${p.id}">
      <div class="thumb"><img src="${p.image}" alt="Thumbnail ${p.title}"></div>
    </a>
    <div class="body">
      <div class="meta">${fmtDate(p.date)} ‚Ä¢ ${p.tags[0]||''}</div>
      <a href="#/post/${p.id}"><div class="h3">${p.title}</div></a>
      <div class="excerpt">${p.excerpt}</div>
      <div class="tags">${p.tags.map(t=>`<span class="tag">#${t}</span>`).join('')}</div>
    </div>
  </article>`;
}
function renderGrid(el, list){
  el.innerHTML = list.map(cardHTML).join('') ||
   `<div style="grid-column:1/-1;padding:26px;border:1px dashed var(--ring);border-radius:14px;text-align:center;color:var(--muted)">Tidak ada hasil.</div>`;
}
function searchFilter(arr, q){
  q=(q||'').trim().toLowerCase(); if(!q) return arr;
  return arr.filter(p=>{
    const s=[p.title,p.excerpt,p.tags.join(' '),p.body.replace(/<[^>]+>/g,'')].join(' ').toLowerCase();
    return s.includes(q);
  });
}
function pageSize(){
  const w=innerWidth; if(w<=640) return 8; if(w<=1024) return 8; return 12;
}
function renderPager(view, total){
  const pager = $(`#pager-${view}`); if(!pager){return}
  const size = pageSize(), S=states[view];
  const maxPage = Math.max(1, Math.ceil(total/size));
  if(S.page>maxPage) S.page=maxPage;
  const start=(S.page-1)*size, end=Math.min(start+size,total);
  if(total===0){pager.innerHTML='';return}
  pager.innerHTML = `
    <button class="btn outline" id="prev-${view}" ${S.page<=1?'disabled':''}>Sebelumnya</button>
    <span class="info">Menampilkan ${start+1}‚Äì${end} dari ${total}</span>
    <button class="btn outline" id="next-${view}" ${S.page>=maxPage?'disabled':''}>Berikutnya</button>`;
  $(`#prev-${view}`)?.addEventListener('click',()=>{ if(S.page>1){S.page--; routeRender()}});
  $(`#next-${view}`)?.addEventListener('click',()=>{ if(S.page<maxPage){S.page++; routeRender()}});
}
function paginateAndRender(view, filtered, gridId){
  const size=pageSize(), S=states[view];
  const start=(S.page-1)*size; const pageItems=filtered.slice(start,start+size);
  renderGrid(document.getElementById(gridId), pageItems);
  renderPager(view, filtered.length);
}
function setupSearch(view){
  const input = $('#searchInput'); const S=states[view];
  input.value = S.q;
  input.oninput = e => { S.q = e.target.value; S.page=1; routeRender(); };
}

// ====== VIEWS ================================================================
function heroBlock(){
  return `<section class="hero">
    <div class="container">
      <div class="wrap">
        <div class="avatar"><img src="https://images.unsplash.com/photo-1607746882042-944635dfe10e?q=80&w=600&auto=format&fit=crop" alt="Rafy Rayyan"/></div>
        <div>
          <h1 class="hi">Halo, aku <span class="grad">Rafy Rayyan</span>.</h1>
          <p>Ini adalah rumah digital untuk tugas akhir Bahasa Indonesia kelas 12 sekaligus blog pribadiku. Di sini aku mengarsipkan progres <em>novel</em> yang sedang kutulis, juga catatan, opini, dan eksperimen lain. Selamat mampir!</p>
          <button class="btn" onclick="modal(true)">Berlangganan via Email</button>
        </div>
      </div>
      <div class="searchbar">
        <div class="search"><input id="searchInput" placeholder="Cari judul, tag, atau isi‚Ä¶ (ketik untuk memfilter)"><span>/</span></div>
      </div>
    </div>
  </section>`;
}
function listBlock(view){
  return `<section class="container">
    <div class="grid" id="grid-${view}"></div>
    <div class="pager" id="pager-${view}"></div>
  </section>`;
}
function aboutBlock(){
  return `<section class="container" style="padding:24px 0 12px">
    <article class="card" style="padding:20px">
      <h1 style="margin:0 0 8px">Tentang Penulis</h1>
      <p>Halo! Aku Rafy, siswa kelas 12 yang suka nulis cerita dan belajar hal kreatif. Blog ini kubuat untuk tugas akhir Bahasa Indonesia‚Äîsekaligus tempat curhat kreatif tentang proses menulis novelku.</p>
      <ul>
        <li>Minat: novel slice-of-life, dialog hidup, dan city-vibes.</li>
        <li>Target: 1 bab per dua minggu + 1 artikel blog mingguan.</li>
        <li>Kontak cepat: <a href="https://www.instagram.com/rafy.rayyan/" target="_blank" rel="noopener">@rafy.rayyan</a></li>
      </ul>
    </article>
  </section>`;
}
function renderHome(){
  app.innerHTML = heroBlock() + listBlock('home');
  setupSearch('home');
  const list = searchFilter(posts.slice().sort((a,b)=>b.date.localeCompare(a.date)), states.home.q);
  paginateAndRender('home', list, 'grid-home');
}
function renderBlog(){
  app.innerHTML = heroBlock() + `<div class="container" style="padding:6px 0"><h2>Blog</h2></div>` + listBlock('blog');
  setupSearch('blog');
  const base = posts.filter(p=>p.tags.includes('Blog')).sort((a,b)=>b.date.localeCompare(a.date));
  paginateAndRender('blog', searchFilter(base, states.blog.q), 'grid-blog');
}
function renderNovel(){
  app.innerHTML = heroBlock() + `<div class="container" style="padding:6px 0"><h2>Novel</h2></div>` + listBlock('novel');
  setupSearch('novel');
  const base = posts.filter(p=>p.tags.includes('Novel')).sort((a,b)=>b.date.localeCompare(a.date));
  paginateAndRender('novel', searchFilter(base, states.novel.q), 'grid-novel');
}
function renderAbout(){
  app.innerHTML = heroBlock() + aboutBlock();
}
function renderPost(id){
  const p = posts.find(x=>x.id===id);
  if(!p){ location.hash = '#/'; return; }
  app.innerHTML = `
    <section class="container article">
      <h1>${p.title}</h1>
      <div class="ameta">${fmtDate(p.date)} ‚Ä¢ ${p.tags.join(', ')}</div>
      <div class="post-hero"><img src="${p.image}" alt="${p.title}"></div>
      <article class="content">${p.body}</article>
    </section>`;
}

// ====== ROUTER & WIRING ======================================================
function setActive(route){
  document.querySelectorAll('[data-nav]').forEach(a=>a.classList.remove('active'));
  const m = route.split('/')[1] || 'home';
  const sel = m==='home'?'home':m;
  document.querySelector(`[data-nav="${sel}"]`)?.classList.add('active');
}
function routeRender(){
  const h = location.hash || '#/';
  setActive(h);
  if (h === '#/' || h === '#') return renderHome();
  if (h.startsWith('#/blog')) return renderBlog();
  if (h.startsWith('#/novel')) return renderNovel();
  if (h.startsWith('#/about')) return renderAbout();
  if (h.startsWith('#/post/')) return renderPost(h.split('/')[2]);
  renderHome();
}
window.addEventListener('hashchange', routeRender);
window.addEventListener('resize', ()=> routeRender());
document.addEventListener('DOMContentLoaded', ()=>{
  // stats di footer
  $('#stat-post').textContent = posts.length;
  $('#stat-tag').textContent  = new Set(posts.flatMap(p=>p.tags)).size;
  // tema
  const saved = localStorage.getItem('theme')||'dark';
  document.documentElement.setAttribute('data-theme', saved);
  routeRender();
});

// UI misc
$('#themeBtn').addEventListener('click', ()=>{
  const cur = document.documentElement.getAttribute('data-theme')==='light'?'dark':'light';
  document.documentElement.setAttribute('data-theme', cur);
  localStorage.setItem('theme', cur);
});
$('#toTop').addEventListener('click', ()=> scrollTo({top:0,behavior:'smooth'}));
function modal(open){ const m=$('#subModal'); if(open){m.classList.add('open');}else{m.classList.remove('open');} }
</script>
</body>
</html>
